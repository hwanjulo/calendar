<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
 	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />	
	<link rel = "stylesheet" href = "style.css"> 	
	<script src = "functions.js"></script>	
	<style type="text/css">
	</style>
</head>
<body>
	<section>
	<h1 id = "name"></h1>
	<div id = "container">
        <i class="fas fa-arrow-left fa-3x"></i>
		<table>
			<thead>
				<tr>				
				</tr>
			</thead>

			<tbody id = "calender">
			</tbody>
		</table>
        <i class="fas fa-arrow-right fa-3x"></i>		
	</div>
</section>
	<script type="text/javascript">


/*------------------------------------------------------------------------------------------------- 기본 데이터 생성*/

	var dayKorean = ["일", "월", "화", "수", "목", "금", "토"];			//요일 배열
	var date = new Date();												//현재 날짜정보 생성해서 date에 담기
	var mm = date.getMonth();											//지금 무슨달인가
	var dd = date.getDate();											//지금 무슨날인가
	var yyyy = date.getFullYear();										//지금 몇년도인가
	var day = date.getDay();											//오늘 무슨요일인가

	var dayOfTheWeek = dd % 7;											//오늘은 해당 주의 만 몇 번째 날인지
	var firstDay = ((day - dayOfTheWeek + 1)+7) % 7;					//해당 월의 1일은 무슨 요일인지


/*----------------------------------------------------------------------------------------------------------- 테스트*/

/*
	yyyy = 2023;
	mm = 1;
	dd = 1;
	day = 3;

	dayOfTheWeek = dd % 7;
	firstDay = ((day - dayOfTheWeek + 1) + 7) % 7;


*/

/*--------------------------------------------------------------------------------------------------------변수 선언*/

	const trForHead = document.querySelector("thead > tr");
	const tbody = document.querySelector("#calender");
	let i, j, k, l, x, y;

	let leapYear = leapCal(yyyy);
	let numberOfDate = dateCal(yyyy);
	let numberOfWeek = weekCal(yyyy, mm);		

/*----------------------------------------------------------------------------------------------------------------*/


makeHeader();
makeCalendar();

/*----------------------------------------------------------------------------------------------------------------*/	


	const leftArrow = document.querySelector("i:nth-child(1)");

	leftArrow.addEventListener('click', function(){

		mm = ((mm - 1) +12) % 12;

		if(mm === 11){
			yyyy = yyyy-1;
		}

		else yyyy;

		dd = numberOfDate[mm];
		day = firstDay-1;

	dayOfTheWeek = dd % 7;
	firstDay = ((day - dayOfTheWeek + 1) + 7) % 7;

	leapYear = leapCal(yyyy);
	numberOfDate = dateCal(yyyy);
	numberOfWeek = weekCal(yyyy, mm);		

	tbody.innerHTML = '';
	makeCalendar();		


});

	const rightArrow = document.querySelector("i:nth-child(3)");

	rightArrow.addEventListener('click', function(){

		mm = (mm + 1) % 12;

		if(mm === 0){
			yyyy = yyyy+1;
		}

		else yyyy;

		dd = 1;
		day = l;

	dayOfTheWeek = dd % 7;
	firstDay = ((day - dayOfTheWeek + 1) + 7) % 7;

	leapYear = leapCal(yyyy);
	numberOfDate = dateCal(yyyy);
	numberOfWeek = weekCal(yyyy, mm);		

	tbody.innerHTML = '';
	makeCalendar();
		
	});



	</script>
</body>
</html>